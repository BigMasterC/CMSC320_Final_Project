<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CMSC 320 Final Tutorial</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      rel="icon"
      href="assests/images/larger_favicon_CMSC320.png"
      type="image/png"
    />
  </head>
  <body>
    <nav class="navbar">
      <div class="nav-container">
        <a href="#" class="logo">
          <img
            src="assests/images/larger_favicon_CMSC320.png"
            alt="Project Logo"
            class="nav-icon"
          />
          CMSC320 Final Project
        </a>
        
        <button class="hamburger" aria-label="Toggle navigation">
          <i class="fa-solid fa-bars"></i>
        </button>

        <ul class="nav-links">
          <li><a href="#intro">Intro</a></li>
          <li><a href="#curation">Data</a></li>
          <li><a href="#eda">EDA</a></li>
          <li><a href="#ml">Machine Learning</a></li>
          <li><a href="#conclusion">Insights</a></li>
        </ul>
      </div>
    </nav>

    <header class="hero">
      <div class="container">
        <span class="badge">Fall 2025 â€¢ CMSC 320</span>
        <h1>Airbnb by the Numbers: Trends, Predictions, and Insights</h1>
        <p class="subtitle">
          A tutorial walking through our journey mapping geographic trends in
          the short-term rental market.
        </p>
        <div class="github-button-container">
          <a
            href="https://github.com/BigMasterC/CMSC320_Final_Project"
            class="airbnb-button"
          >
            <i class="fa-brands fa-github fa-lg"></i>
            View Code on GitHub
          </a>
        </div>
        <div class="card contributors">
          <h3>ðŸ‘¥ Team Contributions</h3>
          <div class="contribution-grid">
            <div class="member">
              <strong>Chibundu Onwuegbule</strong>
              <p>Sections: A, G</p>
              <small>[Placeholder for tasks completed for this project]</small>
            </div>
            <div class="member">
              <strong>Aditya Chattopadhyay</strong>
              <p>Section: B</p>
              <small>[Placeholder for tasks completed for this project]</small>
            </div>
            <div class="member">
              <strong>Thomas Huitema</strong>
              <p>Section: C</p>
              <small>[Placeholder for tasks completed for this project]</small>
            </div>
            <div class="member">
              <strong>Arnav Doshi</strong>
              <p>Sections: C</p>
              <small>[Placeholder for tasks completed for this project]</small>
            </div>
            <div class="member">
              <strong>Zhiteng Ke</strong>
              <p>Sections: D, E, F</p>
              <small>[Placeholder for tasks completed for this project]</small>
            </div>
            <div class="member">
              <strong>Alex Mohamed</strong>
              <p>Sections: D, E, F</p>
              <small>[Placeholder for tasks completed for this project]</small>
            </div>
          </div>
        </div>
      </div>
    </header>

    <main class="container">
      <section id="intro" class="fade-in">
        <h2>Introduction</h2>
        <div class="card">
          <p>
            [Placeholder for a proper introduction to the project topic and its
            significance.]
          </p>
        </div>
      </section>

      <section id="curation" class="fade-in">
        <h2>Data Curation</h2>
        <div class="card">
          <h3>Imported Python Libraries</h3>
          <div class="code-container">
            <div class="code-header">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
              <span>import_libraries.py</span>
            </div>
            <pre><code class="python">
# Importing the necessary Python Libraries
from sklearn.tree import DecisionTreeRegressor
from sklearn.linear_model import LinearRegression
from sklearn.model_selection import train_test_split
from sklearn.metrics import mean_sqaured_error, r2_score
from scipy.stats import pearsonr
import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd
import datetime as dt
import numpy as np
import re
            </code></pre>
          </div>
          <h3>Dataset Overview</h3>
          <p>
            <b>Dataset Citation:</b> Jangra, A. (2024, May 28).
            <i>Airbnb dataset</i>. Kaggle.
            <a
              href="https://www.kaggle.com/datasets/ashishjangra27/airbnb-dataset"
              target="_blank"
              rel="noopener noreferrer"
              class="long-link"
            >
              https://www.kaggle.com/datasets/ashishjangra27/airbnb-dataset
            </a>
          </p>
          <br />
          <p>
            Our dataset is an Airbnb Dataset that we found on Kaggle that
            consists of
            <strong>12,805 samples</strong> that describe information on a
            particular Airbnb offering with <strong>22 unique features</strong>.
            We first explore the raw data that we pulled from Kaggle before
            preprocessing the data for machine learning to answer our research
            questions.
          </p>
          <br />
          <div class="dataset-info">
            <div class="info-card">
              <h3>Dataset Size</h3>
              <p>12,805 rows Ã— 23 columns</p>
            </div>
            <div class="info-card">
              <h3>Price Range</h3>
              <p>393 - 1,907,963 (local currency)</p>
            </div>
            <div class="info-card">
              <h3>Countries</h3>
              <p>11,836 countries represented</p>
            </div>
          </div>

          <h3>Complete Dataset</h3>
          <div class="code-container">
            <div class="code-header">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
              <span>data_processing.py</span>
            </div>
            <pre><code class="python">
# Loading the dataset and printing its first 5 rows prior to pre-processing
df = pd.read_csv("airbnb.csv")
df.head()
            </code></pre>
          </div>
          
          <p>Scroll horizontally and vertically to view all columns and rows</p>
          <div class="complete-dataset-container">
            <table class="complete-dataset-table">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Rating</th>
                  <th>Reviews</th>
                  <th>Host Name</th>
                  <th>Host ID</th>
                  <th>Address</th>
                  <th>Features</th>
                  <th>Amenities</th>
                  <th>Safety Rules</th>
                  <th>House Rules</th>
                  <th>Image Links</th>
                  <th>Price</th>
                  <th>Country</th>
                  <th>Bathrooms</th>
                  <th>Beds</th>
                  <th>Guests</th>
                  <th>Toilets</th>
                  <th>Bedrooms</th>
                  <th>Studios</th>
                  <th>Check-in</th>
                  <th>Check-out</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>49849504</td>
                  <td>Perla bungalov</td>
                  <td class="rating-high">4.71</td>
                  <td>64</td>
                  <td>Mehmetcan</td>
                  <td>357334205</td>
                  <td class="truncated-text">Kartepe, Kocaeli, Turkey</td>
                  <td class="truncated-text">2 guests,2 bedrooms,1 bed,1 bathroom</td>
                  <td class="truncated-text">Mountain view,Valley view,Lake access,Kitchen,Wifi,Free parking on premises,Pets allowed,TV</td>
                  <td class="truncated-text">Airbnb's COVID-19 safety practices apply,No carbon monoxide alarm,No smoke alarm,Nearby lake, river, other body of water</td>
                  <td class="truncated-text">Check-in: Flexible,Check out: 12:00 pm,Pets are allowed,Smoking is allowed</td>
                  <td class="truncated-text">5 image links</td>
                  <td class="price">8,078</td>
                  <td class="country">Turkey</td>
                  <td>1</td>
                  <td>1</td>
                  <td>2</td>
                  <td>0</td>
                  <td>2</td>
                  <td>0</td>
                  <td>Flexible</td>
                  <td>12:00 pm</td>
                </tr>
                <tr>
                  <td>50891766</td>
                  <td>Authentic Beach Architect Sheltered Villa with Pool and Jacuzzi</td>
                  <td class="rating-new">New</td>
                  <td>0</td>
                  <td>Fatih</td>
                  <td>386223873</td>
                  <td class="truncated-text">KaÅŸ, Antalya, Turkey</td>
                  <td class="truncated-text">4 guests,2 bedrooms,2 beds,2 bathrooms</td>
                  <td class="truncated-text">Kitchen,Wifi,Dedicated workspace,Free parking on premises,Private pool,Private hot tub,TV,Washing machine</td>
                  <td class="truncated-text">Airbnb's COVID-19 safety practices apply,Carbon monoxide alarm not reported,Smoke alarm not reported</td>
                  <td class="truncated-text">Check-in: 4:00 pm - 11:00 pm,Check out: 10:00 am,No smoking,No pets,No parties or events</td>
                  <td class="truncated-text">5 image links</td>
                  <td class="price">4,665</td>
                  <td class="country">Turkey</td>
                  <td>2</td>
                  <td>2</td>
                  <td>4</td>
                  <td>0</td>
                  <td>2</td>
                  <td>0</td>
                  <td>4:00 pm - 11:00 pm</td>
                  <td>10:00 am</td>
                </tr>
                <tr>
                  <td>50699164</td>
                  <td>cottages sataplia</td>
                  <td class="rating-high">4.85</td>
                  <td>68</td>
                  <td>Giorgi</td>
                  <td>409690853</td>
                  <td class="truncated-text">Imereti, Georgia</td>
                  <td class="truncated-text">4 guests,1 bedroom,3 beds,1 bathroom</td>
                  <td class="truncated-text">Mountain view,Kitchen,Wifi,Dedicated workspace,Free driveway parking on premises,Pets allowed,40" HDTV with cable/satellite TV,Lift</td>
                  <td class="truncated-text">Airbnb's COVID-19 safety practices apply,No carbon monoxide alarm,No smoke alarm</td>
                  <td class="truncated-text">Check-in: After 1:00 pm,Check out: 12:00 pm,Self check-in with lockbox,Pets are allowed</td>
                  <td class="truncated-text">5 image links</td>
                  <td class="price">5,991</td>
                  <td class="country">Georgia</td>
                  <td>1</td>
                  <td>3</td>
                  <td>4</td>
                  <td>0</td>
                  <td>1</td>
                  <td>0</td>
                  <td>After 1:00 pm</td>
                  <td>12:00 pm</td>
                </tr>
                <tr>
                  <td>49871422</td>
                  <td>Sapanca Breathable Bungalow</td>
                  <td class="rating-high">5.0</td>
                  <td>13</td>
                  <td>Melih</td>
                  <td>401873242</td>
                  <td class="truncated-text">Sapanca, Sakarya, Turkey</td>
                  <td class="truncated-text">4 guests,1 bedroom,2 beds,1 bathroom</td>
                  <td class="truncated-text">Mountain view,Valley view,Kitchen,Wifi,Free parking on premises,Private pool,42" HDTV with Netflix,Security cameras on property</td>
                  <td class="truncated-text">Airbnb's COVID-19 safety practices apply,No carbon monoxide alarm,No smoke alarm,Security camera/recording device,Nearby lake, river, other body of water</td>
                  <td class="truncated-text">Check-in: After 2:00 pm,Check out: 12:00 pm,No smoking,No pets</td>
                  <td class="truncated-text">5 image links</td>
                  <td class="price">11,339</td>
                  <td class="country">Turkey</td>
                  <td>1</td>
                  <td>2</td>
                  <td>4</td>
                  <td>0</td>
                  <td>1</td>
                  <td>0</td>
                  <td>After 2:00 pm</td>
                  <td>12:00 pm</td>
                </tr>
                <tr>
                  <td>51245886</td>
                  <td>Bungalov Ev 2</td>
                  <td class="rating-new">New</td>
                  <td>0</td>
                  <td>Arp Sapanca</td>
                  <td>414884116</td>
                  <td class="truncated-text">Sapanca, Sakarya, Turkey</td>
                  <td class="truncated-text">2 guests,1 bedroom,1 bed,1 bathroom</td>
                  <td class="truncated-text">Kitchen,Wifi,Free parking on premises,TV,Air conditioning,Long-term stays allowed</td>
                  <td class="truncated-text">Airbnb's COVID-19 safety practices apply,Carbon monoxide alarm not reported,Smoke alarm not reported,Nearby lake, river, other body of water</td>
                  <td class="truncated-text">Check-in: After 2:00 pm,Check out: 12:00 pm,No smoking,No pets,No parties or events</td>
                  <td class="truncated-text">5 image links</td>
                  <td class="price">6,673</td>
                  <td class="country">Turkey</td>
                  <td>1</td>
                  <td>1</td>
                  <td>2</td>
                  <td>0</td>
                  <td>1</td>
                  <td>0</td>
                  <td>After 2:00 pm</td>
                  <td>12:00 pm</td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div class="table-note">
            <p>
              <strong>Note:</strong> This table displays the first 5 rows of the complete dataset. The full dataset contains 12,805 rows and 23 columns. Some columns have been truncated for display purposes.
            </p>
          </div>

          <h3>Dataset Columns</h3>
          <p>
            From an initial look at the first five columns of the dataframe, we
            see that each of these different features can be complex and there
            is need for a lot of cleaning so that this data can be used for
            machine learning. We proceed by more closely looking at the dataset.
          </p>
          <div class="code-container">
            <div class="code-header">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
              <span>data_processing.py</span>
            </div>
            <pre><code class="python">df.dtypes</code></pre>
          </div>
          
          <div class="data-table-container">
            <table class="data-table">
              <thead>
                <tr>
                  <th class="data-table-header">Column Name</th>
                  <th class="data-table-header">Description</th>
                  <th class="data-table-header">Data Type</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td class="data-table-cell">id</td>
                  <td class="data-table-cell">Property ID number</td>
                  <td class="data-table-cell">int64</td>
                </tr>
                <tr>
                  <td class="data-table-cell">name</td>
                  <td class="data-table-cell">Property name/title</td>
                  <td class="data-table-cell">object</td>
                </tr>
                <tr>
                  <td class="data-table-cell">rating</td>
                  <td class="data-table-cell">Rating score or "New" for new listings</td>
                  <td class="data-table-cell">mixed</td>
                </tr>
                <tr>
                  <td class="data-table-cell">reviews</td>
                  <td class="data-table-cell">Number of reviews</td>
                  <td class="data-table-cell">int64</td>
                </tr>
                <tr>
                  <td class="data-table-cell">host_name</td>
                  <td class="data-table-cell">Host's name</td>
                  <td class="data-table-cell">object</td>
                </tr>
                <tr>
                  <td class="data-table-cell">host_id</td>
                  <td class="data-table-cell">Host's ID number</td>
                  <td class="data-table-cell">float64</td>
                </tr>
                <tr>
                  <td class="data-table-cell">address</td>
                  <td class="data-table-cell">Full property address</td>
                  <td class="data-table-cell">object</td>
                </tr>
                <tr>
                  <td class="data-table-cell">features</td>
                  <td class="data-table-cell">Property features and capacity</td>
                  <td class="data-table-cell">object</td>
                </tr>
                <tr>
                  <td class="data-table-cell">amenities</td>
                  <td class="data-table-cell">Available amenities</td>
                  <td class="data-table-cell">object</td>
                </tr>
                <tr>
                  <td class="data-table-cell">safety_rules</td>
                  <td class="data-table-cell">Safety information and rules</td>
                  <td class="data-table-cell">object</td>
                </tr>
                <tr>
                  <td class="data-table-cell">hourse_rules</td>
                  <td class="data-table-cell">House rules (note: contains typo)</td>
                  <td class="data-table-cell">object</td>
                </tr>
                <tr>
                  <td class="data-table-cell">img_links</td>
                  <td class="data-table-cell">Property image URLs</td>
                  <td class="data-table-cell">object</td>
                </tr>
                <tr>
                  <td class="data-table-cell">price</td>
                  <td class="data-table-cell">Price per night</td>
                  <td class="data-table-cell">int64</td>
                </tr>
                <tr>
                  <td class="data-table-cell">country</td>
                  <td class="data-table-cell">Country location</td>
                  <td class="data-table-cell">object</td>
                </tr>
                <tr>
                  <td class="data-table-cell">bathrooms</td>
                  <td class="data-table-cell">Number of bathrooms</td>
                  <td class="data-table-cell">int64</td>
                </tr>
                <tr>
                  <td class="data-table-cell">beds</td>
                  <td class="data-table-cell">Number of beds</td>
                  <td class="data-table-cell">int64</td>
                </tr>
                <tr>
                  <td class="data-table-cell">guests</td>
                  <td class="data-table-cell">Maximum guest capacity</td>
                  <td class="data-table-cell">int64</td>
                </tr>
                <tr>
                  <td class="data-table-cell">toiles</td>
                  <td class="data-table-cell">Number of toilets (note: contains typo)</td>
                  <td class="data-table-cell">int64</td>
                </tr>
                <tr>
                  <td class="data-table-cell">bedrooms</td>
                  <td class="data-table-cell">Number of bedrooms</td>
                  <td class="data-table-cell">int64</td>
                </tr>
                <tr>
                  <td class="data-table-cell">studios</td>
                  <td class="data-table-cell">Number of studios</td>
                  <td class="data-table-cell">int64</td>
                </tr>
                <tr>
                  <td class="data-table-cell">checkin</td>
                  <td class="data-table-cell">Check-in time/instructions</td>
                  <td class="data-table-cell">object</td>
                </tr>
                <tr>
                  <td class="data-table-cell">checkout</td>
                  <td class="data-table-cell">Check-out time/instructions</td>
                  <td class="data-table-cell">object</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="3" class="data-table-footer">
                    Complete list of 22 features in the Airbnb dataset
                  </td>
                </tr>
              </tfoot>
            </table>
          </div>

          <p style="margin-left: 20px">
            While there are some columns that are int64 columns, many of them
            are object columns, which means that there is needed preprocessing
            so that we can ready the features for machine learning.
          </p>
          <div class="code-container">
            <div class="code-header">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
              <span>data_processing.py</span>
            </div>
            <pre><code class="python">df.count()</code></pre>
          </div>

          <p>
            While most of the columns have no missing data, host_name, checkin,
            and checkout are missing some data, with checkout missing the most
            data out of the three. However, if we were to exclude every column
            that is missing data, that would mean there are still 10,000+
            samples by which we can do further analysis.
          </p>

          <h3>Data Preprocessing</h3>
          <p>
            Many of the rows contain a non-numerical rating of "New." Possible
            options for fixing this issue include dropping the rows with a
            rating of "New" or using the mean/median for rows missing a rating.
            However, since ~33% of the data has a "New" rating, those options
            were less desirable. Therefore, the best option was to use a
            regression model with existing data to predict the ratings for rows
            missing rating values, and use those predictions to fill in the
            missing data.
          </p>
          <div class="code-container">
            <div class="code-header">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
              <span>data_processing.py</span>
            </div>
            <pre><code>
# Initializing variables
X = df[df['rating'] != 'New']
y = X[['rating']]
X = X[['price', 'bathrooms', 'beds', 'guests', 'toiles', 'bedrooms', 'studios']]
seed = 42
model = DecisionTreeRegressor(random_state=seed)

# Splitting the data
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2,
                                                    random_state=seed)
# Training the model
model.fit(X_train, y_train)

# Using the model to make predictions for rows missing data
for row in df.itertuples(index=True):
  if row.rating == 'New':
    row_data = {
        'price' : [row.price],
        'bathrooms' : [row.bathrooms],
        'beds' : [row.beds],
        'guests' : [row.guests],
        'toiles' : [row.toiles],
        'bedrooms' : [row.bedrooms],
        'studios' : [row.studios],
    }
    prediction = model.predict(pd.DataFrame(row_data))
    df.at[row.Index, 'rating'] = round(prediction.item(0), 2)

# Printing out dataframe head with adjusted ratings
df.head()
                    </code></pre>
          </div>
          
          <h3>Cleaning up the Check in/Check out time</h3>
          <p style="margin-left: 20px">
            Adds two new intermediary columns and two new final columns
            <b>checkin_time_clean</b> and <b>checkout_time_clean</b>
          </p>

          <p style="margin-left: 20px">
            Airbnb "check-in" and "check-out" times are user-entered, messy, and
            inconsistent. Examples include:
          </p>
          <br />
          <ul style="margin-left: 60px">
            <li>"12:00 pm"</li>
            <li>"4pm - 11pm"</li>
            <li>"After 1 pm"</li>
            <li>"flexible"</li>
            <li>"Depends"</li>
            <li>missing entries (NaN)</li>
            <li>country differences in typical times</li>
          </ul>
          <br />
          <p style="margin-left: 20px">
            These cannot be directly analyzed unless they are converted to
            uniform, numeric values.
          </p>

          <p style="margin-left: 20px">
            In this preprocessing, we seek to normalize all the times into a
            datetime format. To do this, we have to normalize all these odd
            outputs (e.g., "4 00 pm", "after 2pm", "4pmâ€“11pm"), handle
            "flexible" checkins (rather than just discarding them), and handle
            missing data without bias.
          </p>
          <br />
          <p style="margin-left: 20px">
            <b>A few assumptions were made so that this would be doable:</b>
          </p>
          <br />
          <ol style="margin-left: 40px">
            <li>
              <strong
                >Checkin ranges indicate the earliest allowable checkin.</strong
              >
              <ul style="margin-top: 8px">
                <li>
                  Airbnb hosts typically list a range meaning "guests can check
                  in anytime between these bounds," but for modeling and
                  comparison, we need a single time point.
                </li>
                <li>
                  We assume the earliest time in the range is used as the
                  functional check-in time.
                </li>
              </ul>
            </li>

            <li style="margin-top: 12px">
              <strong
                >"Flexible" check-in reflects typical check-in behavior of the
                country</strong
              >
              <ul style="margin-top: 8px">
                <li>
                  The term "flexible" is ambiguous and varies across hosts. It
                  is not interpretable as a specific time. So, we replace
                  "flexible" with median checkin times of that country.
                </li>
                <li>
                  We assume that host flexibility roughly aligns with norms in
                  their region, local market structure and guest expectations
                  influence typical times, and country-level medians approximate
                  expected check-in availability. This avoids imposing a
                  universal assumption like 3 PM, which may not generalize
                  globally.
                </li>
              </ul>
            </li>

            <li style="margin-top: 12px">
              <strong>Missing values are not missing at random (MNAR)</strong>
              <ul style="margin-top: 8px">
                <li>
                  Many missing check-in/out times occur because hosts leave
                  defaults, skip the field, or specify details elsewhere in the
                  listing.
                </li>
                <li>
                  We assume that missing values reflect considerations similar
                  to flexible entries and should be replaced using country-level
                  medians.
                </li>
              </ul>
            </li>
          </ol>
          <div class="code-container">
            <div class="code-header">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
              <span>data_processing.py</span>
            </div>
            <pre><code class="python">def parse_time_text(text):
    """Parse a text like '4 00 pm' or '11 am' into a datetime.time.
    Handles formats like:
        - '4 00 pm'
        - '11 am'
        - '3pm'
        - '12 30 am'
    Returns None if parsing fails.
    """

    # Parses to see if the particular text matches with a time format
    match = re.search(r'(\d{1,2})\s*(\d{2})?\s*(am|pm)', text)
    if not match:
        return None

    # Obtains the hour, minute, and meridian of the text
    hour = int(match.group(1))
    minute = int(match.group(2)) if match.group(2) else 0
    meridian = match.group(3)

    # Converts to 24 hour time
    if meridian == "pm" and hour != 12:
        hour += 12
    if meridian == "am" and hour == 12:
        hour = 0

    # Returns the time as a datetime object
    return dt.time(hour, minute)
 # NOTE: Full code snippet can be found on the GitHub Repo </code></pre>
          </div>
        </div>
      </section>

      <section id="eda" class="fade-in">
        <h2>Exploratory Data Analysis</h2>
        <div class="card">
          <h3>Summary Statistics</h3>
          <p>
            The dataset contains X entries and Y features. We observed a strong
            correlation between...
          </p>
          <div class="plot-container">
            <div class="placeholder-image">[Insert Distribution Plot Here]</div>
            <p class="caption">
              Figure 1: Distribution of the primary variable showing outliers.
            </p>
          </div>
          <h3>Hypothesis Testing</h3>
          <p>
            We performed a T-test to determine if the difference in means was
            significant...
          </p>
        </div>
      </section>

      <section id="ml" class="fade-in">
        <h2>Primary Analysis (Machine Learning)</h2>
        <div class="card">
          <h3>Model 1: Can Rating Be Used to Predict Price?</h3>
          <p>
            <em>NOTE: Partially inspired by ChatGPT when brainstorming the idea for this question</em><br><br>
            According to the data exploration, there exists a linear correlation between the numerical 
            variables "Price" and "Rating." As a result, it may be possible to use a LinearRegression 
            model to predict one feature based on the other. However, since a machine learning model was 
            already used to predict many of the ratings used for this analysis, it would be inadvisable to 
            once again predict ratings. Therefore, this analysis will use "Rating" to predict "Price."<br><br>
            It is important to note that "Price" is right-skewed (discovered during data exploration). 
            Due to this, a log transformation was applied to the "Price" values in order to reduce the 
            skew value and make them easier to use for modeling.
          </p>
          <h3>Training & Testing the Model</h3>
          <div class="code-container">
            <div class="code-header">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
              <span>model_one_training.py</span>
          </div>
          <pre><code>
  # Addressing price outliers with log transformations
  df['price'] = np.log(df['price'])

  # Confirming that the adjusted price still possesses a linear correlation with rating by 
  # comparing the pearsonr p-value between the updated columns with the level of significance
  pearson_corr, pearson_p = pearsonr(df['price'], df['rating'])
  print(f"Price and rating are still linearly correlated: {pearson_p < 0.05}")

  # Initializing key variables
  seed = 42
  X = df[['rating']]
  y = df[['price']]
  regressor = LinearRegression()

  # Splitting the data
  X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=seed)

  # Fitting the model and making predictions
  regressor.fit(X_train, y_train)
  y_train_pred = regressor.predict(X_train)
  y_test_pred = regressor.predict(X_test)

  # Evaluating the model
  mse_train = mean_sqaured_error(y_true=y_train, y_pred=y_train_pred)
  mse_test = mean_sqaured_error(y_true=y_test, y_pred=y_test_pred)
  r2_train = r2_score(y_true=y_train, y_pred=y_train_pred)
  r2_test = r2_score(y_true=y_test, y_pred=y_test_pred)

  print(f"MSE for Training Data: {mse_train}")
  print(f"MSE for Testing Data: {mse_test}")
  print(f"R2 Score for Training Data: {r2_train}")
  print(f"R2 Score for Testing Data: {r2_test}")
          </code></pre>
        </div>
          <p>
            <em>Output:</em><br>
            Price and rating are still linearly correlated: True<br>
            MSE for Training Data: 1.198452182252336<br>
            MSE for Testing Data: 1.1769543401018487<br>
            R2 Score for Training Data: 0.025859874573103014<br>
            R2 Score for Testing Data: 0.024019899803277345<br><br>
            <em>Analysis:</em><br>
            While the mean-squared error (MSE) is low, indicating the predicted and true price values 
            are close, the R-squared values are also low (~0.02 when higher values closer to 1 are best), 
            which means the rating variable is not being heavily factored into the price predictions being 
            made by the model.
          </p>
      </div>
      </section>

      <section id="viz" class="fade-in">
        <h2>Visualization of Results</h2>
        <div class="card">
          <h3>Model 1 Visualization</h3>
          <p>
            Let's use a scatter plot and regression line to obtain a visualization of the model's predicitons 
            in relation to the train and test data.
          </p>
            <div class="code-container">
            <div class="code-header">
              <span class="dot red"></span>
              <span class="dot yellow"></span>
              <span class="dot green"></span>
              <span>model_one_visualization.py</span>
          </div>
          <pre><code>
# Drawing the scatter plot and regression line
plt.scatter(X_train, y_train, color='blue', label='Train')
plt.scatter(X_test, y_test, color='orange', label='Test')
plt.plot(X_train, y_train_pred, color='green', label='Regression Line')

# Adding a title, a legend, and axis labels
plt.title('Regression Model')
plt.legend(loc='upper left')
plt.xlabel('Rating')
plt.ylabel('Price (Natural Log)')
          </code></pre>
        </div>
          <p><em>Output:</em><br>Text(0, 0.5, 'Price (Natural Log)')</p>
          <div class="plot-container">
            <div class="regression-graph">
              <img src="/CMSC320_Final_Project/assests/images/rating_price_regression_graph.png" alt="rating_price_regression_graph">
            </div>
            <p class="caption">Figure 2: Rating vs. Price Regression Graph</p>
          </div>
        </div>
      </section>

      <section id="conclusion" class="fade-in">
        <h2>Insights & Conclusion</h2>
        <div class="card highlight-card">
          <h3>Key Takeaways</h3>
          <ul>
            <li>Insight 1: Based on the MSE results, it appears that it is possible to 
              use an Airbnb's rating to get a rough estimate of the location's price.
              However, by analyzing the graph and R-squared values, it is evident that 
              most of the data being used for this analysis have very similar ratings (~4.8).
              As a result, despite the existence of a linear correlation between price and 
              rating, the similarity between the data points used for this analysis is 
              likely causing the model to depend less on the "Rating" variable to make a price 
              prediction, and more so on memorizing the training data (which highly resembles 
              the testing data numerically).</li><br>
            <li>Insight 2: Our model proves that...</li><br>
            <li>Insight 3: Future work could include...</li>
          </ul>
          <p><br>An uninformed reader should feel more informed regarding this topic after proceeding 
            through this tutorial, since they now have a better understanding of how different 
            Airbnbs features impact one another. So when they see that an Airbnb has a high rating, 
            for example, they have a better sense of its likely price and the number of guests it 
            can accomodate (even if this information is not available).<br><br>
            Readers who knew about this topic should still have learned something new, as they 
            now understand how machine learning models can be used to successfully make predictions 
            regarding Airbnb features. This tutorial can inspire these readers to create their own 
            machine learning models to gain a further understanding of how Airbnb features correlate 
            with one another.</p>
        </div>
      </section>
    </main>
    <footer>
      <p>&copy; 2025 CMSC 320 Group Project. Built with data and coffee.</p>
    </footer>
    <script src="script.js"></script>
  </body>
</html>